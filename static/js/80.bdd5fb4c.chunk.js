"use strict";(self.webpackChunkreact_jike=self.webpackChunkreact_jike||[]).push([[80],{6370:function(t,e,n){n.d(e,{AU:function(){return l},IW:function(){return i},K4:function(){return c},Nz:function(){return s},Yu:function(){return u},lS:function(){return a}});var r=n(9863);function a(){return(0,r.WY)({url:"/channels",method:"GET"})}function i(t){return(0,r.WY)({url:"/mp/articles?draft=false",method:"POST",data:t})}function c(t){return(0,r.WY)({url:"/mp/articles/".concat(t.id,"?draft=false"),method:"PUT",data:t})}function u(t){return(0,r.WY)({url:"/mp/articles",method:"GET",params:t})}function s(t){return(0,r.WY)({url:"/mp/articles/".concat(t),method:"DELETE"})}function l(t){return(0,r.WY)({url:"/mp/articles/".concat(t),method:"GET"})}},4573:function(t,e,n){n.d(e,{E:function(){return s}});var r=n(4165),a=n(5861),i=n(9439),c=n(2791),u=n(6370);function s(){var t=(0,c.useState)([]),e=(0,i.Z)(t,2),n=e[0],s=e[1];return(0,c.useEffect)((function(){var t=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.lS)();case 2:e=t.sent,s(e.data.channels);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),{channelList:n}}},7264:function(t,e,n){n.r(e),n.d(e,{default:function(){return T}});var r=n(1413),a=n(4165),i=n(5861),c=n(9439),u=n(7689),s=n(1087),l=n(5535),o=n(2648),d=n(2641),f=n(7633),h=n(5496),p=n(1630),x=n(8526),Z=n(4424),m=n(2791),j=n(2072),v=n(3602),g=n(1773),b=n(4738),Y=n(1752),_=n(2622),y=n.p+"static/media/error.b1dfcf19c9d81b310034.png",k=n(5984),w=n(4573),I=n(6370),E=n(184),P=l.Z.Option,S=o.Z.RangePicker,T=function(){var t=(0,u.s0)(),e=[{title:"\u5c01\u9762",dataIndex:"cover",width:120,render:function(t){return(0,E.jsx)("img",{src:t.images[0]||y,width:80,height:60,alt:""})}},{title:"\u6807\u9898",dataIndex:"title",width:220},{title:"\u72b6\u6001",dataIndex:"status",render:function(t){return 1===t?(0,E.jsx)(v.Z,{color:"warning",children:"\u5f85\u5ba1\u6838"}):(0,E.jsx)(v.Z,{color:"success",children:"\u5ba1\u6838\u901a\u8fc7"})}},{title:"\u53d1\u5e03\u65f6\u95f4",dataIndex:"pubdate"},{title:"\u9605\u8bfb\u6570",dataIndex:"read_count"},{title:"\u8bc4\u8bba\u6570",dataIndex:"comment_count"},{title:"\u70b9\u8d5e\u6570",dataIndex:"like_count"},{title:"\u64cd\u4f5c",render:function(t){return(0,E.jsxs)(g.Z,{size:"middle",children:[(0,E.jsx)(d.ZP,{type:"primary",shape:"circle",icon:(0,E.jsx)(Y.Z,{}),onClick:function(){B(t)}}),(0,E.jsx)(f.Z,{title:"\u5220\u9664\u6587\u7ae0?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onConfirm:function(){A(t)},children:(0,E.jsx)(d.ZP,{type:"primary",danger:!0,shape:"circle",icon:(0,E.jsx)(_.Z,{})})})]})}}],n=(0,w.E)().channelList,o=(0,m.useState)({status:"",channel_id:"",begin_pubdate:"",end_pubdate:"",page:1,per_page:8}),T=(0,c.Z)(o,2),W=T[0],C=T[1],D=(0,m.useState)([]),z=(0,c.Z)(D,2),G=z[0],L=z[1],M=(0,m.useState)(0),U=(0,c.Z)(M,2),N=U[0],O=U[1];(0,m.useEffect)((function(){function t(){return(t=(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,I.Yu)(W);case 2:e=t.sent,L(e.data.results),O(e.data.total_count);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[W]);var A=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,I.Nz)(e.id);case 2:C((0,r.Z)({},W));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(e){t("/publish?id=".concat(e.id))};return(0,E.jsxs)("div",{children:[(0,E.jsx)(h.Z,{title:(0,E.jsx)(p.Z,{items:[{title:(0,E.jsx)(s.rU,{to:"/",children:"\u9996\u9875"})},{title:"\u6587\u7ae0\u5217\u8868"}]}),style:{marginBottom:20},children:(0,E.jsxs)(x.Z,{initialValues:{status:""},onFinish:function(t){C((0,r.Z)((0,r.Z)({},W),{},{channel_id:t.channel_id,status:t.status,begin_pubdate:t.date[0].format("YYYY-MM-DD"),end_pubdate:t.date[1].format("YYYY-MM-DD")}))},children:[(0,E.jsx)(x.Z.Item,{label:"\u72b6\u6001",name:"status",children:(0,E.jsxs)(Z.ZP.Group,{children:[(0,E.jsx)(Z.ZP,{value:"",children:"\u5168\u90e8"}),(0,E.jsx)(Z.ZP,{value:0,children:"\u8349\u7a3f"}),(0,E.jsx)(Z.ZP,{value:2,children:"\u5ba1\u6838\u901a\u8fc7"})]})}),(0,E.jsx)(x.Z.Item,{label:"\u9891\u9053",name:"channel_id",children:(0,E.jsx)(l.Z,{placeholder:"\u8bf7\u9009\u62e9\u6587\u7ae0\u9891\u9053",style:{width:120},children:n.map((function(t){return(0,E.jsx)(P,{value:t.id,children:t.name},(0,k.x0)())}))})}),(0,E.jsx)(x.Z.Item,{label:"\u65e5\u671f",name:"date",children:(0,E.jsx)(S,{locale:j.Z})}),(0,E.jsx)(x.Z.Item,{children:(0,E.jsx)(d.ZP,{type:"primary",htmlType:"submit",style:{marginLeft:40},children:"\u7b5b\u9009"})})]})}),(0,E.jsx)(h.Z,{title:"\u6839\u636e\u7b5b\u9009\u6761\u4ef6\u67e5\u8be2\u5230\u4e86".concat(N,"\u6761\u6570\u636e"),children:(0,E.jsx)(b.Z,{columns:e,dataSource:G,pagination:{total:N,pageSize:W.per_page},onChange:function(t){var e=t.current;C((0,r.Z)((0,r.Z)({},W),{},{page:e}))}})})]})}}}]);
//# sourceMappingURL=80.bdd5fb4c.chunk.js.map